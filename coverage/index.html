<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Brock</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.4.5/jquery-1.4.2.min.js' type='text/javascript'></script>
    <script src='./assets/0.4.5/jquery.dataTables.min.js' type='text/javascript'></script>   
    <script src='./assets/0.4.5/fancybox/jquery.fancybox-1.3.1.pack.js' type='text/javascript'></script>   
    <script src='./assets/0.4.5/jquery.timeago.js' type='text/javascript'></script>   
    <script src='./assets/0.4.5/jquery.url.js' type='text/javascript'></script>   
    <script src='./assets/0.4.5/app.js' type='text/javascript'></script>    
    <link href='./assets/0.4.5/stylesheet.css' media='screen, projection, print' rel='stylesheet' type='text/css'>
    <link href='./assets/0.4.5/fancybox/jquery.fancybox-1.3.1.css' media='screen, projection, print' rel='stylesheet' type='text/css'>
    <link href='./assets/0.4.5/smoothness/jquery-ui-1.8.4.custom.css' media='screen, projection, print' rel='stylesheet' type='text/css'>    
    <link rel="shortcut icon" type="image/png" href="./assets/0.4.5/favicon.png" />
    <link rel="icon" type="image/png" href="./assets/0.4.5/favicon.png" />
  </head>
  
  <body>
    <div id="loading">
      <img src="./assets/0.4.5/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" style="display:none;">
      <div class="timestamp">Generated <abbr class="timeago" title="2011-09-06T21:58:41-04:00">2011-09-06T21:58:41-04:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    All Files
    (<span class="green">100.0%</span>)
  </h2>
  <a name="AllFiles"></a>
  <div>
    <b>7</b> files in total.
    <b>213</b> relevant lines. 
    <span class="green"><b>213</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed </span>
  </div>
  <table class="file_list">
    <thead>
      <tr>
        <th>File</th>
        <th>% covered</th>
        <th>Lines</th>
        <th>Relevant Lines</th>
        <th>Lines covered</th>
        <th>Lines missed</th>
      </tr>
    </thead>
    <tbody>
      
      <tr>
        <td><a href="#9c4a62fb261f85feedda04bec832497ed4cda362" class="src_link" title="./lib/brock/base.rb">./lib/brock/base.rb</a></td>
        <td class="green">100.0 %</td>
        <td>9</td>
        <td>6</td>
        <td>6</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#a88ff3cc3292b492080ac0af2a933b11176ffc59" class="src_link" title="./lib/brock/error.rb">./lib/brock/error.rb</a></td>
        <td class="green">100.0 %</td>
        <td>9</td>
        <td>3</td>
        <td>3</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#038c9242fb9e3e2f26430c71db837bd0060b04cb" class="src_link" title="./lib/brock/input_parser.rb">./lib/brock/input_parser.rb</a></td>
        <td class="green">100.0 %</td>
        <td>108</td>
        <td>64</td>
        <td>64</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#9a5ff2644689a75083f9dff98813c2ba33104c5d" class="src_link" title="./lib/brock/playtime_calculator.rb">./lib/brock/playtime_calculator.rb</a></td>
        <td class="green">100.0 %</td>
        <td>76</td>
        <td>42</td>
        <td>42</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#5aba549b7319c2076126457d11a5723167476da1" class="src_link" title="./lib/brock/prorator.rb">./lib/brock/prorator.rb</a></td>
        <td class="green">100.0 %</td>
        <td>29</td>
        <td>16</td>
        <td>16</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#a2d7686bf7b98caf34853f133fd1158f326026ad" class="src_link" title="./lib/brock/stats_calculator.rb">./lib/brock/stats_calculator.rb</a></td>
        <td class="green">100.0 %</td>
        <td>99</td>
        <td>61</td>
        <td>61</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#6ac5a761470d9af0b0ecc7cbbcb9d2e5a5014858" class="src_link" title="./lib/brock/validator.rb">./lib/brock/validator.rb</a></td>
        <td class="green">100.0 %</td>
        <td>43</td>
        <td>21</td>
        <td>21</td>
        <td>0</td>
      </tr>
      
    </tbody>
  </table>
</div>

        
      </div>
    
      <div id="footer">
        Generated by <a href="http://github.com/colszowka/simplecov">simplecov</a> v0.4.2 
        and simplecov-html v0.4.5<br/>
        using RSpec
      </div>
    
      <div class="source_files">
      
        <div class="source_table" id="9c4a62fb261f85feedda04bec832497ed4cda362">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/brock/base.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require File.expand_path(File.dirname(__FILE__) + '/input_parser')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require File.expand_path(File.dirname(__FILE__) + '/validator')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>require File.expand_path(File.dirname(__FILE__) + '/stats_calculator')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>class Brock</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  include InputParser</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  include Validator</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="a88ff3cc3292b492080ac0af2a933b11176ffc59">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/brock/error.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>class Brock</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  # Raised when invalid stat input is provided</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  class MalformattedArgumentError &lt; StandardError</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  end  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  class InvalidStatsHashError &lt; StandardError</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="038c9242fb9e3e2f26430c71db837bd0060b04cb">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/brock/input_parser.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require File.expand_path(File.dirname(__FILE__) + '/error')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>class Brock</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  module InputParser</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    class &lt;&lt; self</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      def included(klass)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>        klass.send :extend, ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    module ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      def stats</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2982">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>        @stats ||= {}</pre>
      </td>
      <td class="hits">
        2982
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      def configuration</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="620">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>        stats[:config] ||= {}</pre>
      </td>
      <td class="hits">
        620
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      def read_data(path)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="53">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>        initialize_stats(stats)</pre>
      </td>
      <td class="hits">
        53
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="53">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>        File.open(path) do |f|</pre>
      </td>
      <td class="hits">
        53
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="53">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>          lines = f.readlines</pre>
      </td>
      <td class="hits">
        53
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="53">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>          lines.each_index do |index|</pre>
      </td>
      <td class="hits">
        53
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="156">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>            extract_configuration_data(lines[index]) unless index &gt; 0</pre>
      </td>
      <td class="hits">
        156
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="155">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>            extract_stat_line(lines[index], index) unless index == 0</pre>
      </td>
      <td class="hits">
        155
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>          end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      private</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      def initialize_stats(stats_hash = {})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="53">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>        (20..41).each do |age|</pre>
      </td>
      <td class="hits">
        53
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1166">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>          stats_hash[age] = {}</pre>
      </td>
      <td class="hits">
        1166
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1166">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>          stats_hash[age][:playtime] = {}</pre>
      </td>
      <td class="hits">
        1166
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="53">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>        initialize_totals_entry(stats_hash)</pre>
      </td>
      <td class="hits">
        53
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="53">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>        stats_hash</pre>
      </td>
      <td class="hits">
        53
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>      def extract_configuration_data(line)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="53">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>        validate_config_line(line)</pre>
      </td>
      <td class="hits">
        53
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="52">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>        config_values = line.scan(config_regex)</pre>
      </td>
      <td class="hits">
        52
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="52">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>        populate_hash_from_extracted_values(configuration, config_line_attributes, config_values)</pre>
      </td>
      <td class="hits">
        52
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="52">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>        configuration[:sustenance] = config_values[4][0].to_f</pre>
      </td>
      <td class="hits">
        52
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      def extract_stat_line(line, index)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="103">
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>        validate_stat_line(line)</pre>
      </td>
      <td class="hits">
        103
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>        stat_values = line.scan(/(\d+)/)</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>        age = set_up_age_entry(index)</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>        populate_hash_from_extracted_values(stats[age], stat_line_attributes, stat_values) </pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>        calculate_stats(age, stats[age])</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>        update_totals(stats[age])</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>      def set_up_age_entry(index)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>        delta = calculate_stats_line_delta(index)</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>        age = configuration[:totals_age] + delta</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>        year = configuration[:totals_year] + delta</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>        stats[age] ||= {}</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>        stats[age][:year] = year </pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>        return age</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>      def calculate_stats(age, stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>        stats[:proj_games] = StatsCalculator.prorate_games_played(stats[:year], stats[:games])</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>        stats[:rc25] = StatsCalculator.runs_created_25(stats)</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>        stats[:sustenance] = StatsCalculator.sustenance_level(age, configuration[:sustenance])</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>        stats[:ok_regular?] = StatsCalculator.ok_regular?(stats)</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>        stats[:ok_bench?] = StatsCalculator.ok_bench?(age, stats)</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>      def calculate_stats_line_delta(index)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>        years_delta = configuration[:totals_age] - configuration[:stats_start_age] </pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>        return index - years_delta - 1</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>      def populate_hash_from_extracted_values(hash, positions, values)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="154">
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>        positions.each_index do |index|</pre>
      </td>
      <td class="hits">
        154
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1994">
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>          hash[positions[index].intern] = values[index][0].to_i</pre>
      </td>
      <td class="hits">
        1994
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>      def initialize_totals_entry(stats_hash)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="53">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>        stats_hash[:totals] = {}</pre>
      </td>
      <td class="hits">
        53
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="53">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>        stat_line_attributes.each_index do |index|</pre>
      </td>
      <td class="hits">
        53
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="901">
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>          stats_hash[:totals][stat_line_attributes[index].intern] = 0</pre>
      </td>
      <td class="hits">
        901
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>      def update_totals(yearly_stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="102">
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre>        stat_line_attributes.each_index do |index|</pre>
      </td>
      <td class="hits">
        102
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1734">
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>          stat = stat_line_attributes[index].intern</pre>
      </td>
      <td class="hits">
        1734
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1734">
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>          stats[:totals][stat] += yearly_stats[stat] </pre>
      </td>
      <td class="hits">
        1734
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="9a5ff2644689a75083f9dff98813c2ba33104c5d">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/brock/playtime_calculator.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>class Brock</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  module PlaytimeCalculator</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    class &lt;&lt; self</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      def included(klass)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>        klass.send :extend, ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    module ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      def ok_regular?(stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="104">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>        stats[:rc25] &gt; stats[:sustenance]</pre>
      </td>
      <td class="hits">
        104
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      def ok_bench?(age, stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="106">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>        adjustment = age &lt;= 33 ? 1.0 : 0.6</pre>
      </td>
      <td class="hits">
        106
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="106">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>        stats[:rc25] &gt; (stats[:sustenance] - adjustment)</pre>
      </td>
      <td class="hits">
        106
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      def play_factor(age, stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="34">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>        calculator = play_factor_calculator(age)</pre>
      </td>
      <td class="hits">
        34
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="34">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>        calculator.call(age, stats)</pre>
      </td>
      <td class="hits">
        34
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      private</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      def play_factor_calculator(age)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="170">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>        play_factor_calculators.select { |k,v| k.include?(age) }.values.pop</pre>
      </td>
      <td class="hits">
        170
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      def play_factor_calculators</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>        @play_factor_calculator ||=</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>          { 20..20 =&gt; method(:play_factor_20),</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>            21..24 =&gt; method(:play_factor_21_24),</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>            25..30 =&gt; method(:play_factor_25_30),</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="34">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>            31..42 =&gt; method(:play_factor_over_30) }</pre>
      </td>
      <td class="hits">
        34
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      def play_factor_20(age, stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>        0</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>      def play_factor_21_24(age, stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="6">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>        ok_regular = yearly_play_categorization(age, stats)</pre>
      </td>
      <td class="hits">
        6
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="6">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>        ok_bench = yearly_play_categorization(age, stats, false)</pre>
      </td>
      <td class="hits">
        6
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="6">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>        ok_prior_bench = yearly_play_categorization(age-1, stats, false) </pre>
      </td>
      <td class="hits">
        6
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="6">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>        ((ok_regular + ok_bench + ok_prior_bench) / 3).round(3)</pre>
      </td>
      <td class="hits">
        6
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      def play_factor_25_30(age, stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>        ok_regular = yearly_play_categorization(age, stats)</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>        ok_bench = yearly_play_categorization(age, stats, false)</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>        ok_prior_regular = yearly_play_categorization(age-1, stats)</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>        ok_prior_bench = yearly_play_categorization(age-1, stats, false) </pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>        ((ok_regular + ok_bench + ok_prior_regular + ok_prior_bench) / 4).round(3)</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>      def play_factor_over_30(age, stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="18">
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>        ok_regular = yearly_play_categorization(age, stats)</pre>
      </td>
      <td class="hits">
        18
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="18">
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>        ok_bench = yearly_play_categorization(age, stats, false)</pre>
      </td>
      <td class="hits">
        18
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="18">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>        ok_prior_regular = yearly_play_categorization(age-1, stats)</pre>
      </td>
      <td class="hits">
        18
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="18">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>        ok_prior_bench = yearly_play_categorization(age-1, stats, false)</pre>
      </td>
      <td class="hits">
        18
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="18">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>        ok_2_prior_regular = yearly_play_categorization(age-2, stats)</pre>
      </td>
      <td class="hits">
        18
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="18">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>        ((ok_regular + ok_bench + ok_prior_regular + ok_prior_bench + ok_2_prior_regular) / 5).round(3)</pre>
      </td>
      <td class="hits">
        18
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>      def yearly_play_categorization(age, stats, regular = true)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="144">
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>        value = stats[age][:playtime]</pre>
      </td>
      <td class="hits">
        144
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="144">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>        return regular ? (value[:regular] ? 1.0 : 0.0) : (value[:bench] ? 1.0 : 0.0) </pre>
      </td>
      <td class="hits">
        144
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="5aba549b7319c2076126457d11a5723167476da1">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/brock/prorator.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>class Brock</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  module Prorator</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    class &lt;&lt; self</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>      def included(klass)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>        klass.send :extend, ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    module ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      def prorate_games_played(season, games)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="109">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>        season_length = strike_seasons[season] </pre>
      </td>
      <td class="hits">
        109
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="109">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>        season_length = season &gt; 1960 ? 162 : 154 unless season_length</pre>
      </td>
      <td class="hits">
        109
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="109">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>        prorated_games = games  * (162.0 / season_length)</pre>
      </td>
      <td class="hits">
        109
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="109">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>        return prorated_games.round(0)</pre>
      </td>
      <td class="hits">
        109
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      private</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      def strike_seasons</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="109">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>        @strike_seasons ||= initialize_strike_seasons</pre>
      </td>
      <td class="hits">
        109
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      def initialize_strike_seasons</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>        strike_seasons = { 1973 =&gt; 154, 1981 =&gt; 108, 1994 =&gt; 114, 1995 =&gt; 144 }</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="a2d7686bf7b98caf34853f133fd1158f326026ad">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/brock/stats_calculator.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require File.expand_path(File.dirname(__FILE__) + '/validator')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require File.expand_path(File.dirname(__FILE__) + '/prorator')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>require File.expand_path(File.dirname(__FILE__) + '/error')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>require File.expand_path(File.dirname(__FILE__) + '/playtime_calculator')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>class Brock</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  module StatsCalculator</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    include Validator</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    include Prorator</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    include PlaytimeCalculator</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    class &lt;&lt; self</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      def total_bases(stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>        validate_stats_hash(stats)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>        singles(stats) + 2*stats[:doubles] + 3*stats[:triples] + 4*stats[:home_runs]</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      def runs_created(stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="106">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>        validate_stats_hash(stats)</pre>
      </td>
      <td class="hits">
        106
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="105">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>        c = stats[:at_bats] + stats[:walks] + stats[:hbp] + stats[:sh] + stats[:sf]</pre>
      </td>
      <td class="hits">
        105
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="105">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>        return 0 unless c &gt; 0</pre>
      </td>
      <td class="hits">
        105
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="104">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>        a = stats[:hits] + stats[:walks] - stats[:cs] + stats[:hbp] - stats[:gidp]</pre>
      </td>
      <td class="hits">
        104
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="104">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>        b = run_values_for_hits(stats) + run_values_for_secondary_stats(stats) </pre>
      </td>
      <td class="hits">
        104
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="104">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>        rc = (((2.4 * c + a) * (3 * c + b)) / (9 * c)) - (0.9 * c)</pre>
      </td>
      <td class="hits">
        104
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="104">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>        return rc.round(1)</pre>
      </td>
      <td class="hits">
        104
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      def runs_created_25(stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="104">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>        validate_stats_hash(stats)</pre>
      </td>
      <td class="hits">
        104
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="104">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>        outs = outs(stats) </pre>
      </td>
      <td class="hits">
        104
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="104">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>        return 0 unless outs &gt; 0</pre>
      </td>
      <td class="hits">
        104
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="103">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>        rc = runs_created(stats)</pre>
      </td>
      <td class="hits">
        103
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="103">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>        (rc/outs*25).round(2)</pre>
      </td>
      <td class="hits">
        103
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      def sustenance_level(age, initial_value)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="123">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>        span = Range.new(21, age)</pre>
      </td>
      <td class="hits">
        123
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="123">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>        result = initial_value</pre>
      </td>
      <td class="hits">
        123
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="123">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>        span.each do |age| </pre>
      </td>
      <td class="hits">
        123
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="894">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>          adj = sustenance_adjustment(age)</pre>
      </td>
      <td class="hits">
        894
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="894">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>          result = result + adj</pre>
      </td>
      <td class="hits">
        894
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="123">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>        return result.round(3)</pre>
      </td>
      <td class="hits">
        123
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>      private</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>      def sustenance_adjustment(age)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10728">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>        sustenance_values.select { |k, v| k.include?(age) }.values.pop</pre>
      </td>
      <td class="hits">
        10728
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>      def sustenance_values</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="894">
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>        @sustenance_values ||= initialize_sustenance_adjustments</pre>
      </td>
      <td class="hits">
        894
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>      def singles(stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="105">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>        stats[:hits] - stats[:doubles] - stats[:triples] - stats[:home_runs]</pre>
      </td>
      <td class="hits">
        105
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>      def outs(stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="104">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>        stats[:at_bats] - stats[:hits] + stats[:gidp] + stats[:cs] + stats[:sf]</pre>
      </td>
      <td class="hits">
        104
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>      def run_values_for_hits(stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="104">
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>        1.125 * singles(stats) + 1.69 * stats[:doubles] + 3.02 * stats[:triples] + 3.73 * stats[:home_runs]  </pre>
      </td>
      <td class="hits">
        104
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>      def run_values_for_secondary_stats(stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="104">
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>        0.29 * (stats[:walks] - stats[:iw] + stats[:hbp]) + 0.492 * (stats[:sf] + stats[:sh] + stats[:sb]) - 0.04 * stats[:strike_outs]</pre>
      </td>
      <td class="hits">
        104
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>      def initialize_sustenance_adjustments</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>        values = {}</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>        values[21..21] = -0.10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>        values[22..25] = 0.0</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>        values[26..27] = 0.015</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>        values[28..30] = 0.035</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>        values[31..31] = 0.045</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>        values[32..32] = 0.055</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>        values[33..33] = 0.070</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>        values[34..36] = 0.075</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>        values[37..37] = 0.050</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>        values[38..38] = 0.075</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>        values[39..41] = 0.050</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>        return values</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="6ac5a761470d9af0b0ecc7cbbcb9d2e5a5014858">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/brock/validator.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>class Brock</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  module Validator</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    class &lt;&lt; self</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      def included(klass)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>        klass.send :extend, ClassMethods</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    module ClassMethods</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      def stat_line_attributes</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="6678">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>        @stat_attr ||= %w{ games at_bats runs hits doubles triples home_runs rbi sb cs walks strike_outs gidp hbp sh sf iw } </pre>
      </td>
      <td class="hits">
        6678
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      def config_line_attributes</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="52">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>        @config_attr ||= %w{ totals_year totals_age stats_start_age current_age sustenance } </pre>
      </td>
      <td class="hits">
        52
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      def config_regex</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="105">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>        @config_rx ||= /(\d{4}|\d{2}|\d+\.\d+)+/</pre>
      </td>
      <td class="hits">
        105
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      def line_regex</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="103">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>        @line_rx ||= /\d+\s\d+\s\d+\s\d+\s\d+\s\d+\s\d+\s\d+\s\d+\s\d+\s\d+\s\d+\s\d+\s\d+\s\d+\s\d+\s\d+/</pre>
      </td>
      <td class="hits">
        103
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      def validate_config_line(line)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="53">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>        raise Brock::MalformattedArgumentError, &quot;Configuration line formatted incorrectly: #{line}&quot; unless line.match(config_regex)</pre>
      </td>
      <td class="hits">
        53
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      def validate_stat_line(line)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="103">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>        raise Brock::MalformattedArgumentError, &quot;Stat line formatted incorrectly: #{line}&quot; unless line.match(line_regex)</pre>
      </td>
      <td class="hits">
        103
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      def validate_stats_hash(stats)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="212">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>        stat_line_attributes.each_index do |index|</pre>
      </td>
      <td class="hits">
        212
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3572">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>          raise Brock::InvalidStatsHashError, &quot;Stats hash must contain all elements with values: Missing element for #{stat_line_attributes[index]}&quot; unless stats[stat_line_attributes[index].intern]</pre>
      </td>
      <td class="hits">
        3572
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
      </div>
    </div>
  </body>
</html>
